# 第七幕: 【核心】深入理解组件状态

在我们使用useState的时候  【 我们为什么需要使用useState来构建状态？因为使用useState构建的状态会返回一个更新状态的函数, 当调用这个函数去修改状态时, React会通知组件去进行重新渲染 】, 我们需要注意一些事情:

1. 组件状态的更新是异步的【这意味着当更改状态的函数执行以后我们没有办法同步的马上得到他更新以后的值】
  - 那我如何拿到最新的状态呢？ useEffect / useLayoutEffect 【这节课不会讲】 畏难 
2. useState的写法:
  1. useState在调用的时候可以传递函数, 也可以传递具体的值, 如果传递的是函数, 则会直接执行这个函数, 将函数的返回值作为初始化的状态, 但是虽然在初始化的时候他允许你传递函数, 我们也尽量不要传递函数, 因为初始化工作只会进行一次
  2. 然后useState会返回一个数组, 数组里面有两个成员:
    - 以初始化为值的变量
    - 修改该变量的函数, 这个函数的调用会造成函数组件的重新运行【关于这个函数还有点说法】
      - 调用该函数的时候可以直接传递一个值, 也可以传递一个函数, 如果你传递一个函数进去, 则React会将上一次的状态传递给你, 帮助你进行计算, 如果你传递的是一个函数, React会将这个函数放到一个队列里等待执行, 那也就是如果我们想每次都稳稳的拿到上一次的值, 我们得写成一个函数

3. 状态的更新是批量进行的, 而不是一个一个的进行, 这是为了性能考虑

